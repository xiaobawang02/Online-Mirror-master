---
description: Cloudflare éƒ¨ç½²æµç¨‹å’Œå‘½ä»¤
---

# Cloudflare éƒ¨ç½²è§„åˆ™

## ğŸš€ éƒ¨ç½²å‘½ä»¤

### éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ (Main åˆ†æ”¯ - è‡ªå®šä¹‰åŸŸå)

```bash
npx wrangler pages deploy . --project-name=online-mirror --branch=main --commit-dirty=true
```

æˆ–ä½¿ç”¨å¿«æ·è„šæœ¬ï¼š

- Windows: `scripts/deploy-main.bat`
- Linux/Mac: `scripts/deploy-main.sh`

### éƒ¨ç½² Worker API

```bash
wrangler deploy
```

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

1. âœ… æ£€æŸ¥ [config.js](mdc:config.js) ä¸­çš„ API_BASE_URL æ˜¯å¦æ­£ç¡®
2. âœ… ç¡®è®¤ R2 å­˜å‚¨æ¡¶ `photos` å·²åˆ›å»º
3. âœ… æµ‹è¯•æ‰€æœ‰é¡µé¢åŠŸèƒ½æ­£å¸¸
4. âœ… æ£€æŸ¥æ˜¯å¦æœ‰ console.error æˆ–è°ƒè¯•ä»£ç 
5. âœ… ç¡®è®¤éƒ¨ç½²åˆ° main åˆ†æ”¯ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

## ğŸ”‘ é‡è¦æ¦‚å¿µ

### åˆ†æ”¯è¯´æ˜

- **main**: ç”Ÿäº§åˆ†æ”¯ï¼Œç»‘å®šè‡ªå®šä¹‰åŸŸå `https://zk9999902.dpdns.org`

### ç¯å¢ƒå˜é‡

- Worker é€šè¿‡ [wrangler.toml](mdc:wrangler.toml) é…ç½® R2 ç»‘å®š
- Pages é€šè¿‡ [config.js](mdc:config.js) è·å– Worker API åœ°å€

## âš ï¸ å¸¸è§é”™è¯¯

### è‡ªå®šä¹‰åŸŸåæ— æ³•è®¿é—®

**åŸå› **: Cloudflare Pages ç”Ÿäº§åˆ†æ”¯é…ç½®é”™è¯¯  
**è§£å†³**: ç¡®è®¤ Pages è®¾ç½®ä¸­ç”Ÿäº§åˆ†æ”¯ä¸º `main`ï¼Œå¹¶ä½¿ç”¨ `--branch=main` éƒ¨ç½²

### API è¯·æ±‚å¤±è´¥

**åŸå› **: [config.js](mdc:config.js) æœªæ­£ç¡®åŠ è½½æˆ– Worker API åœ°å€é”™è¯¯  
**è§£å†³**: æ£€æŸ¥ HTML æ–‡ä»¶æ˜¯å¦å¼•å…¥äº† `<script src="config.js"></script>`

### ç¼“å­˜é—®é¢˜

**åŸå› **: CDN ç¼“å­˜æœªæ›´æ–°  
**è§£å†³**: ç­‰å¾… 1-5 åˆ†é’Ÿæˆ–å¼ºåˆ¶åˆ·æ–°ï¼ˆCtrl+Shift+Rï¼‰
